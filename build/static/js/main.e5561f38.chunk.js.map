{"version":3,"sources":["components/Filter.js","components/Numbers.js","components/PersonForm.js","services/persons.js","components/notification.js","App.js","index.js"],"names":["Filter","filter","onChange","value","Person","person","deletePerson","name","number","onClick","Numbers","persons","filterString","toLowerCase","match","map","PersonForm","addPerson","newName","newNumber","handleNewName","handleNewNumber","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","className","isError","str","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","showMessage","string","setTimeout","useEffect","personServices","event","target","preventDefault","existPerson","find","undefined","window","confirm","returnPerson","concat","console","log","delResult","catch","error","personItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e5561f38.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ filter, onChange }) => (\r\n  <div>\r\n    filter show with <input value={filter} onChange={onChange} />\r\n  </div>\r\n);\r\n\r\nexport default Filter;","import React from \"react\";\r\n\r\nconst Person = ({ person, deletePerson }) => (\r\n  <tr>\r\n    <td>{person.name}</td>\r\n    <td>{person.number}</td>\r\n    <td><button onClick={() => deletePerson(person)}>delete</button></td>\r\n  </tr>\r\n);\r\n\r\nconst Numbers = ({ persons, filterString, deletePerson }) => (\r\n  <table>\r\n    <tbody>\r\n      {persons\r\n        .filter(\r\n          (person) => person.name.toLowerCase().match(filterString) !== null\r\n        )\r\n        .map((person) => (\r\n          <Person person={person} key={person.name} deletePerson={deletePerson} />\r\n        ))}\r\n    </tbody>\r\n  </table>\r\n);\r\n\r\nexport default Numbers;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  newName,\r\n  newNumber,\r\n  handleNewName,\r\n  handleNewNumber,\r\n}) => (\r\n  <form onSubmit={addPerson}>\r\n    <div>\r\n      name: <input value={newName} onChange={handleNewName} />\r\n    </div>\r\n    <div>\r\n      number: <input value={newNumber} onChange={handleNewNumber} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import axios from \"axios\"\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAllPerson = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const createPerson = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const updatePerson = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  // eslint-disable-next-line\r\n  export default { getAllPerson, createPerson, updatePerson, deletePerson }","import React from \"react\";\r\nimport \"./notification.css\"\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className={message.isError ? \"error\" : \"msg\"}>\r\n        {message.str}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification;","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Numbers from \"./components/Numbers\";\nimport PersonForm from \"./components/PersonForm\";\nimport personServices from \"./services/persons\";\nimport Notification from \"./components/notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  const showMessage = (string, isError) => {\n    setMessage({\n      str: string,\n      isError: isError,\n    });\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  }\n\n  useEffect(() => {\n    personServices.getAllPerson().then((persons) => {\n      setPersons(persons);\n    });\n  }, []);\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    let existPerson = persons.find((person) => {\n      return person.name === newName;\n    });\n\n    if (existPerson !== undefined) {\n      const result = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one ?`\n      );\n      if (result) {\n        existPerson = { ...existPerson, number: newNumber };\n        personServices\n          .updatePerson(existPerson.id, existPerson)\n          .then((returnPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== existPerson.id ? person : returnPerson\n              )\n            );\n          });\n        showMessage(`'${newName}' was already modified in server`,false);\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      };\n\n      personServices.createPerson(personObject).then((returnPerson) => {\n        setPersons(persons.concat(returnPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n      });\n\n      showMessage(`'${newName}' was already add to server`,false);\n    }\n  };\n\n  const deletePerson = (person) => {\n    console.log(\"to delete id \" + person.id);\n    const result = window.confirm(\n      `Are you sure to delete the phone of ${person.name}`\n    );\n    if (result) {\n      const delResult = personServices.deletePerson(person.id).catch(error => {\n        showMessage(`Information of '${person.name}' has been removed from server`,true);\n      });\n      console.log(\"delete result: \" + delResult);\n      setPersons(persons.filter((personItem) => personItem.id !== person.id));\n      showMessage(`'${person.name}' was already delete from server`,true);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} />\n\n      <Filter filter={filter} onChange={handleFilter} />\n      <h2>add a new</h2>\n\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber}\n      />\n\n      <h2>Numbers</h2>\n\n      <Numbers\n        persons={persons}\n        filterString={filter}\n        deletePerson={deletePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}